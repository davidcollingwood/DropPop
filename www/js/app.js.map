{"version":3,"sources":["app/scripts/app.js","app/scripts/controllers/AppCtrl.js","app/scripts/controllers/ArticleCtrl.js","app/scripts/controllers/ArticleModalCtrl.js","app/scripts/controllers/ExploreCtrl.js","app/scripts/controllers/FavouritesCtrl.js","app/scripts/controllers/FriendCtrl.js","app/scripts/controllers/FriendsCtrl.js","app/scripts/controllers/ProfileCtrl.js","app/scripts/controllers/ReportModalCtrl.js","app/scripts/controllers/SettingsCtrl.js","app/scripts/controllers/SettingsDetailCtrl.js","app/scripts/filters/capitalise.js","app/scripts/filters/image-resolution.js","app/scripts/filters/language.js","app/scripts/models/Article.js","app/scripts/models/Friend.js","app/scripts/models/User.js","app/scripts/routes.js","app/scripts/services/messages.js","app/scripts/services/settings.js","app/scripts/services/wikitude.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"www/js/app.js","sourcesContent":["angular.module('droppop', [\n    'ionic',\n    'LocalStorageModule',\n    'partials',\n    'droppop.controllers',\n    'droppop.directives',\n    'droppop.services',\n    'droppop.filters',\n    'droppop.models'\n]);\n\nangular.module('droppop.controllers', []);\nangular.module('droppop.directives', []);\nangular.module('droppop.services', []);\nangular.module('droppop.filters', []);\nangular.module('droppop.models', []);\n\nangular.module('droppop')\n\n    .constant('WIKITUDE_WORLD', 'www/world/index.html')\n    \n    .constant('$ionicLoadingConfig', {\n        template: '<i class=\"ion-loading-c\"></i>'\n    })\n    \n    .run(function($ionicPlatform) {\n        $ionicPlatform.ready(function() {\n            \n        });\n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('AppCtrl', function($scope, $ionicSideMenuDelegate) {\n        \n        $scope.toggleMenu = function() {\n            $ionicSideMenuDelegate.toggleLeft();\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('ArticleCtrl', function($scope, $timeout) {\n        \n        var body = angular.element(document.body);\n        \n        $scope.drop = function() {\n            if (body.hasClass('bubble-in'))\n                return $scope.confirmDrop();\n            \n            body.addClass('bubble-animation bubble-in');\n        };\n        \n        $scope.confirmDrop = function() {\n            body.addClass('bubble-confirm');\n            \n            $timeout(function() {\n                body.removeClass('bubble-confirm');\n                body.addClass('bubble-done');\n                \n                $timeout(function() {\n                    body.removeClass('bubble-done');\n                }, 500);\n                \n                $timeout($scope.cancelDrop, 1000);\n            }, 1500);\n        };\n        \n        $scope.cancelDrop = function() {\n            body.removeClass('bubble-in bubble-confirm bubble-done');\n            body.addClass('bubble-out');\n            \n            $timeout(function() {\n                body.removeClass('bubble-animation bubble-out');\n            }, 1000);\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('ArticleModalCtrl', function($scope) {\n        \n        $scope.cancel = function() {\n            $scope.modal.remove();\n        };\n        \n        $scope.save = function() {\n            $scope.modal.remove();\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('ExploreCtrl', function($scope, $timeout, $ionicLoading, $ionicPopup, wikitude) {\n        \n        $scope.loadWorld = function() {\n            $ionicLoading.show();\n            \n            $timeout(function() {\n                wikitude.loadWorld().catch(function(err) {\n                    $ionicPopup.alert({\n                        title: 'Wikitude Plugin',\n                        template: err\n                    });\n                }).finally(function() {\n                    $ionicLoading.hide();\n                });\n            }, 500);\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('FavouritesCtrl', function($scope, user) {\n        \n        $scope.favourites = user.getFavourites();\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('FriendCtrl', function($scope, $stateParams, user) {\n        \n        $scope.friend = user.getFriend($stateParams.friend_id);\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('FriendsCtrl', function($scope, $ionicNavBarDelegate, user) {\n        \n        $scope.is_searching = false;\n        $scope.friends_filter = '';\n        $scope.friends = user.friends;\n        \n        $scope.search = function() {\n            $ionicNavBarDelegate.showBar(false);\n            $scope.is_searching = true;\n        };\n        \n        $scope.cancelSearch = function() {\n            $ionicNavBarDelegate.showBar(true);\n            $scope.is_searching = false;\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('ProfileCtrl', function($scope) {\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('ReportModalCtrl', function($scope, $timeout, $ionicPopup, $ionicLoading) {\n        \n        $scope.report = {\n            name: '',\n            email: '',\n            description: ''\n        };\n        \n        $scope.cancel = function() {\n            $scope.modal.remove();\n        };\n        \n        $scope.send = function() {\n            $ionicLoading.show();\n            \n            $timeout(function() {\n                $ionicLoading.hide();\n                \n                $ionicPopup.alert({\n                    title: 'Report Received',\n                    template: 'Your report has been received and will be investigated as soon as possible.'\n                }).then(function() {\n                    $scope.modal.remove();\n                });\n            }, 500);\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('SettingsCtrl', function($scope, $ionicPopup, $ionicModal, settings) {\n        \n        $scope.settings = settings;\n        \n        $scope.logout = function() {\n            $ionicPopup.confirm({\n                title: 'Logout',\n                template: 'Are you sure you wish to logout?'\n            }).then(function(response) {\n                if (response) {\n                    // logout\n                }\n            });\n        };\n        \n        $scope.report = function() {\n            $ionicModal.fromTemplateUrl('/partials/report-modal.html', {\n                scope: $scope\n            }).then(function(modal) {\n                $scope.modal = modal;\n                $scope.modal.show();\n            })\n        };\n        \n    })\n\n;","angular.module('droppop.controllers')\n\n    .controller('SettingsDetailCtrl', function($scope, $timeout, $ionicNavBarDelegate, settings) {\n        \n        $scope.settings = settings;\n        \n        $scope.done = function() {\n            $timeout(function() {\n                $ionicNavBarDelegate.back();\n            }, 200);\n        };\n        \n    })\n\n;","angular.module('droppop.filters')\n\n    .filter('capitalise', function() {\n        return function(input) {\n            return input.charAt(0).toUpperCase() + input.slice(1);\n        };\n    })\n\n;","angular.module('droppop.filters')\n\n    .filter('imageResolution', function() {\n        \n        var input_map = {\n            low: 'Low',\n            good: 'Good',\n            high: 'High',\n            very_high: 'Very High'\n        };\n        \n        return function(input) {\n            \n            if (input in input_map)\n                return input_map[input];\n            return input;\n            \n        };\n        \n    })\n\n;","angular.module('droppop.filters')\n\n    .filter('language', function() {\n        \n        var input_map = {\n            eng: 'English'\n        };\n        \n        return function(input) {\n            \n            if (input in input_map)\n                return input_map[input];\n            return input;\n            \n        };\n        \n    })\n\n;","angular.module('droppop.models')\n\n    .service('$article', function() {\n        \n        var article = function(config) {\n            \n            this.title = config.title || '';\n            this.content = config.content || '';\n            this.description = config.description || '';\n            this.author = config.author || '';\n            \n        };\n        \n        return article;\n        \n    })\n    \n    .factory('Article', function($q, $article) {\n        \n        var service = {\n            \n            /**\n             * Create a new instance of $article\n             *\n             * @param object config\n             * @return article\n             */\n            create: function(config) {\n                return new $article(config);\n            },\n            \n            /**\n             * Generate config for a random article\n             *\n             * @return object\n             */\n            generate: function() {\n                return {\n                    title: 'Article #' + Math.floor(Math.random() * 10),\n                    content: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\n                    description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n                    author: 'Lorem Ipsum'\n                };\n            }\n            \n        };\n        \n        return service;\n        \n    })\n\n;","angular.module('droppop.models')\n    \n    .service('$friend', function(localStorageService) {\n        \n        var friend = function(config) {\n            \n            config = config || {};\n            \n            this.name = {};\n            this.name.first = config.name.first || '';\n            this.name.last = config.name.last || '';\n            \n            this.gender = config.gender || '';\n            this.email = config.email || '';\n            \n            this.picture = {};\n            this.picture.thumbnail = config.picture.thumbnail || '';\n            this.picture.medium = config.picture.medium || '';\n            this.picture.large = config.picture.large || '';\n            \n        };\n        \n        friend.prototype = {\n            \n            /**\n             * Get first name\n             *\n             * @return string\n             */\n            getFirstName: function() {\n                return this.name.first;\n            },\n            \n            /**\n             * Get last name\n             *\n             * @return string\n             */\n            getLastName: function() {\n                return this.name.last;\n            },\n            \n            /**\n             * Get full name\n             *\n             * @return string\n             */\n            getName: function() {\n                return this.getFirstName() + ' ' + this.getLastName();\n            },\n            \n            /**\n             * Get profile picture url\n             *\n             * @param string size\n             * @return string\n             */\n            getPicture: function(size) {\n                switch (size) {\n                    case 'small':\n                        return this.picture.thumbnail;\n                    case 'medium':\n                        return this.picture.medium;\n                    default:\n                        return this.picture.large;\n                }\n            }\n            \n        };\n        \n        return friend;\n        \n    })\n    \n    .factory('Friend', function(localStorageService, $q, $friend) {\n        \n        var service = {\n            \n            /**\n             * Create a new instance of $friend\n             *\n             * @return friend\n             */\n            create: function(config) {\n                return new $friend(config);\n            }\n            \n        };\n        \n        return service;\n        \n    })\n\n;","angular.module('droppop.models')\n    \n    .service('$user', function(localStorageService, Friend, Article) {\n        \n        var user = function(config) {\n            \n            config = config || {};\n            \n            console.log(config);\n            \n            this.friends = [];\n            this.favourites = [];\n            \n            angular.forEach(config.friends, function(friend) {\n                this.friends.push(Friend.create(friend));\n            }, this);\n            \n            angular.forEach(config.favourites, function(favourite) {\n                this.favourites.push(Article.create(favourite));\n            }, this);\n            \n            this.save();\n            \n        };\n        \n        user.prototype = {\n            \n            /**\n             * Get friend by ID\n             *\n             * @param int friend_id\n             * @return friend\n             */\n            getFriend: function(friend_id) {\n                return this.friends[friend_id];\n            },\n            \n            /**\n             * Get articles that the user has marked as favourite\n             *\n             * @return array\n             */\n            getFavourites: function() {\n                return this.favourites;\n            },\n            \n            /**\n             * Save user instance to local storage\n             */\n            save: function() {\n                localStorageService.set('user', this);\n            }\n            \n        };\n        \n        return user;\n        \n    })\n    \n    .factory('User', function(localStorageService, $q, $http, $user, Article) {\n        \n        var user;\n        \n        var service = {\n            \n            /**\n             * Get the current instance OR create a new instance of $user\n             *\n             * @return promise\n             * @resolve user\n             */\n            get: function() {\n                var deferred = $q.defer();\n                \n                if (user) {\n                    deferred.resolve(user);\n                } else {\n                    service.load().then(function() {\n                        deferred.resolve(user);\n                    }).catch(function(err) {\n                        deferred.reject(err);\n                    });\n                }\n                \n                return deferred.promise;\n            },\n            \n            /**\n             * Create a new instance of $user\n             *\n             * @param object config\n             */\n            create: function(config) {\n                user = new $user(config);\n            },\n            \n            /**\n             * Load user config for new instance\n             *\n             * @return promise\n             */\n            load: function() {\n                var promise;\n                \n                if (localStorageService.get('user')) {\n                    promise = service.loadLocal();\n                } else {\n                    promise = service.loadDefault();\n                }\n                \n                return promise.then(function(config) {\n                    return service.create(config);\n                });\n            },\n            \n            /**\n             * Load user config from local resource\n             *\n             * @return promise\n             * @resolve object\n             */\n            loadLocal: function() {\n                return $q.when(localStorageService.get('user'));\n            },\n            \n            /**\n             * Load default values for new user\n             *\n             * @return promise\n             * @resolve object\n             */\n            loadDefault: function() {\n                return $q.all({\n                    friends: service.generateFriends(),\n                    favourites: service.generateFavourites()\n                });\n            },\n            \n            /**\n             * Generate array of friends\n             *\n             * @return promise\n             * @resolve array\n             */\n            generateFriends: function() {\n                var deferred = $q.defer();\n                \n                $q.all([\n                    service.generateRandomUser(),\n                    service.generateRandomUser(),\n                    service.generateRandomUser(),\n                    service.generateRandomUser(),\n                    service.generateRandomUser()\n                ]).then(function(friends) {\n                    deferred.resolve(friends);\n                }).catch(function(err) {\n                    deferred.reject(err);\n                });\n                \n                return deferred.promise;\n            },\n            \n            /**\n             * Generate a random user from api.randomuser.me\n             *\n             * @return promise\n             * @resolve object\n             */\n            generateRandomUser: function() {\n                var deferred = $q.defer();\n                \n                $http.get('http://api.randomuser.me/').success(function(response) {\n                    deferred.resolve(response.results[0].user);\n                }).catch(function(err) {\n                    deferred.reject(err);\n                });\n                \n                return deferred.promise;\n            },\n            \n            /**\n             * Generate array of favourite articles\n             \n             * @return promise\n             * @resolve array\n             */\n            generateFavourites: function() {\n                return $q.all([\n                    service.generateFavourite(),\n                    service.generateFavourite(),\n                    service.generateFavourite(),\n                    service.generateFavourite(),\n                    service.generateFavourite()\n                ]);\n            },\n            \n            /**\n             * Generate a random favourite article\n             *\n             * @return promise\n             * @return object\n             */\n            generateFavourite: function() {\n                return $q.when(Article.generate())\n            }\n        };\n        \n        return service;\n        \n    })\n\n;","angular.module('droppop')\n\n    .config(function($stateProvider, $urlRouterProvider) {\n    \n    \t$stateProvider\n    \t\t\n    \t\t.state('app', {\n    \t\t\turl: '/app',\n    \t\t\tabstract: true,\n    \t\t\ttemplateUrl: '/partials/app.html'\n    \t\t})\n    \t\t\n    \t\t.state('app.explore', {\n        \t\turl: '/explore',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/explore.html',\n                \t\tcontroller: 'ExploreCtrl'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.profile', {\n        \t\turl: '/profile',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/profile.html',\n                \t\tcontroller: 'ProfileCtrl'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.friends', {\n        \t\turl: '/friends',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/friends.html',\n                \t\tcontroller: 'FriendsCtrl',\n                \t\tresolve: {\n                    \t\tuser: function(User) {\n                        \t\treturn User.get();\n                    \t\t}\n                \t\t}\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.friend', {\n        \t\turl: '/friends/:friend_id',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/friend.html',\n                \t\tcontroller: 'FriendCtrl',\n                \t\tresolve: {\n                    \t\tuser: function(User) {\n                        \t\treturn User.get();\n                    \t\t}\n                \t\t}\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.article', {\n        \t\turl: '/article',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/article.html',\n                \t\tcontroller: 'ArticleCtrl'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.favourites', {\n        \t\turl: '/favourites',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/favourites.html',\n                \t\tcontroller: 'FavouritesCtrl',\n                \t\tresolve: {\n                \t\t    user: function(User) {\n                    \t\t    return User.get();\n                \t\t    }\n                \t\t}\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.settings', {\n        \t\turl: '/settings',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/settings.html',\n                \t\tcontroller: 'SettingsCtrl'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.image-resolution', {\n        \t\turl: '/image-resolution',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/image-resolution.html',\n                \t\tcontroller: 'SettingsDetailCtrl'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.language', {\n        \t\turl: '/language',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/language.html',\n                \t\tcontroller: 'SettingsDetailCtrl'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.privacy', {\n        \t\turl: '/privacy',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/privacy.html'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t\t.state('app.terms', {\n        \t\turl: '/terms',\n        \t\tviews: {\n            \t\t'app': {\n                \t\ttemplateUrl: '/partials/terms.html'\n            \t\t}\n        \t\t}\n    \t\t})\n    \t\t\n    \t;\n    \n    \t$urlRouterProvider.otherwise('/app/explore');\n    \n    })\n\n;\n","angular.module('droppop.services')\n\n    .service('messages', function() {\n        \n        return {\n            \n            'error': {\n                'wikitude': {\n                    'device_not_supported': 'Your device is not supported by the Wikitude PhoneGap plugin.'\n                }\n            }\n            \n        };\n        \n    })\n\n;","angular.module('droppop.services')\n    \n    .factory('settings', function(localStorageService) {\n        \n        var service = {\n            sync: true,\n            notifications: true,\n            imageResolution: 'high',\n            language: 'eng'\n        };\n        \n        return service;\n        \n    })\n    \n;","angular.module('droppop.services')\n    \n    .service('wikitude', function($window, $q, $ionicPlatform, WIKITUDE_WORLD, messages) {\n        \n        var wikitude_plugin;\n        \n        $ionicPlatform.ready(function() {\n            if (ionic.Platform.isWebView()) {\n                wikitude_plugin = $window.cordova.require(\"com.wikitude.phonegap.WikitudePlugin.WikitudePlugin\");\n                wikitude_plugin.setOnUrlInvokeCallback(service.onUrlInvoked);\n            }\n        });\n        \n        var service = {\n            \n            /**\n             * Check if the device supports the wikitude plugin\n             *\n             * @return promise\n             */\n            isSupported: function() {\n                var deferred = $q.defer();\n                \n                if (angular.isUndefined(wikitude_plugin)) {\n                    deferred.reject(messages.error.wikitude.device_not_supported);\n                    return deferred.promise;\n                }\n                \n                wikitude_plugin.isDeviceSupported(function() {\n                    deferred.resolve();\n                }, function() {\n                    console.log('device not supported');\n                    deferred.reject(messages.error.wikitude.device_not_supported);\n                });\n                \n                return deferred.promise;\n            },\n            \n            /**\n             * Load the AR world\n             */\n            loadWorld: function() {\n                return service.isSupported().then(function() {\n                    return wikitude_plugin.loadARchitectWorld(WIKITUDE_WORLD);\n                });\n            },\n            \n            /**\n             * Listen for any url changes in the AR world\n             */\n            onUrlInvoked: function(url) {\n                alert('url invoked: ' + url);\n                switch (url.substr(22)) {\n                    case 'close':\n                        alert('close wikitude');\n                        wikitude_plugin.close();\n                        break;\n                }\n            }\n            \n        };\n        \n        return service;\n        \n    })\n    \n;"]}